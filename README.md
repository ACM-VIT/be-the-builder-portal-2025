![ACM Header](https://user-images.githubusercontent.com/14032427/92643737-e6252e00-f2ff-11ea-8a51-1f1b69caba9f.png)

<h1 align="center">Be The Builder Portal</h1>

<p align="center">
  <strong>A web portal to help conduct the Be The Builder ideathon</strong>
</p>

<p align="center">
  <a href="https://acmvit.in/" target="_blank">
    <img alt="Made by ACM" src="https://img.shields.io/badge/MADE%20BY-ACM%20VIT-blue?style=for-the-badge"/>
  </a>
</p>

<p align="center">
  <a href="https://builder.acmvit.in" target="_blank">View Live Version</a>
</p>

## Overview

This portal is a Next.js SPA designed to facilitate team formation, idea submission, and real-time event tracking for the Be The Builder ideathon. It features user authentication, an admin dashboard for managing event configurations (like team sizes, deadlines, and tracks), and real-time updates for participants.

## Features

- **User Authentication:** Secure login and registration for participants and administrators using NextAuth.js.
- **Team Management:** Users can create or join teams.
- **Idea Submission:** Teams can submit their project ideas, including titles, descriptions, and links.
- **Admin Dashboard:** Administrators can:
    - Configure event settings (team size, submission deadlines, enable/disable tracks).
    - Manage users, teams, and tracks.
    - Assign teams to specific tracks.
    - Automatically assign users to teams.
- **Real-time Event Updates:** Uses Server-Sent Events (SSE) to provide live updates to all participants about important events like team assignments, idea submissions, and deadline changes.
- **Track Management:** Admins can define different tracks for projects (e.g., "Web Dev", "AI/ML", "Blockchain").
- **Responsive UI:** Built with Tailwind CSS for a modern and responsive user interface.
- **Database:** Uses PostgreSQL with Prisma ORM for data persistence.

## Tech Stack

- **Frontend:** Next.js (React), TypeScript, Tailwind CSS, Framer Motion
- **Backend:** Next.js API Routes, NextAuth.js
- **Database:** PostgreSQL, Prisma ORM
- **Real-time:** Server-Sent Events (SSE)
- **UI Components:** Radix UI, Lucide Icons
- **Deployment:** Vercel

## Project Structure

```plaintext
./
├── app/                     # Next.js App Router: Pages, API routes, layouts
│   ├── api/                 # API route handlers
│   ├── (auth)/              # Authentication related pages
│   └── (main)/              # Main application pages (dashboard, team views)
├── components/              # Reusable React components
│   ├── admin-view.tsx
│   ├── dashboard.tsx
│   └── ui/                  # Generic UI components (Button, Card, etc.)
├── db/                      # Database migration files (generated by Prisma)
├── lib/                     # Utility functions, Prisma client, custom hooks
│   ├── eventUtils.ts        # Server-Sent Events utilities
│   ├── prisma.ts            # Prisma client instance
│   └── utils.ts             # General utility functions
├── prisma/                  # Prisma schema and migration history
│   └── schema.prisma        # Defines database models
├── public/                  # Static assets (fonts, images)
├── .env.example             # Example environment variables
├── next.config.ts           # Next.js configuration
├── package.json
├── tsconfig.json
└── README.md
```

## Getting Started

### Prerequisites

- Node.js (>=20.0.0)
- npm (>=9.0.0)
- PostgreSQL database

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/ACM-VIT/be-the-builder-portal-2025
    cd be-the-builder-portal-2025
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    ```

3.  **Set up environment variables:**
    Copy the `.env.example` file to a new file named `.env` and fill in the required environment variables:
    ```bash
    cp .env.example .env
    ```
    You'll need to configure:
    - `DATABASE_URL`: Your PostgreSQL connection string (session pooler URL)
    - `DIRECT_URL`: Your PostgreSQL direct connection string (for Prisma Migrate).
    - `NEXTAUTH_URL`: The base URL of your application (e.g., `http://localhost:3000`).
    - `NEXTAUTH_SECRET`: A secret key for NextAuth.js.
    - (Add any other authentication provider credentials if you use them, e.g., Google, GitHub).

4.  **Run database migrations:**
    ```bash
    npx prisma migrate dev
    ```
    This will create the necessary tables in your database based on the `prisma/schema.prisma` file.

5.  **Generate Prisma Client:**
    ```bash
    npx prisma generate
    ```

### Running the Development Server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the application.

### Building for Production

```bash
npm run build
```

### Starting the Production Server

```bash
npm run start
```

## API Endpoints

-   **Authentication:**
    -   `/api/auth/...` (Handled by NextAuth.js)
-   **Events (SSE):**
    -   `GET /api/events`: Establishes an SSE connection for real-time updates.
    -   `POST /api/events`: (Admin only) Broadcasts an event to connected clients.
-   **Admin Configuration:**
    -   `GET /api/admin/config`: Retrieves the current event configuration.
    -   `POST /api/admin/config`: Updates the event configuration.
    -   `POST /api/admin/deadline`: Sets or updates the submission deadline.
    -   ... (other admin routes for managing users, teams, tracks)
-   **Teams:**
    -   `GET /api/teams/[id]`: Retrieves details for a specific team.
    -   `POST /api/teams/submit-idea`: Allows a team to submit their project idea.
    -   `PUT /api/teams/update-name`: Allows a team to update their name.
-   **General Configuration:**
    -   `GET /api/config`: Retrieves public event configuration (e.g., deadline, event status).
